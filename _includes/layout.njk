<!DOCTYPE html>
<html class="has-background-success" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>(Whether) Weather</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo.png" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">

  <script src="https://kit.fontawesome.com/bd3a3d372a.js" crossorigin="anonymous"></script>
  <script>
    //https://bulma.io/documentation/components/navbar/#navbar-menu
    document.addEventListener('DOMContentLoaded', () => {

      // Get all "navbar-burger" elements
      const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

      // Add a click event on each of them
      $navbarBurgers.forEach(el => {
        el.addEventListener('click', () => {

          // Get the target from the "data-target" attribute
          const target = el.dataset.target;
          const $target = document.getElementById(target);

          // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');

        });
      });

    });
    // https://bulma.io/documentation/components/modal/
    document.addEventListener('DOMContentLoaded', () => {
      // Functions to open and close a modal
      function openModal($el) {
        $el.classList.add('is-active');
      }

      function closeModal($el) {
        $el.classList.remove('is-active');
      }

      function closeAllModals() {
        (document.querySelectorAll('.modal') || []).forEach(($modal) => {
          closeModal($modal);
        });
      }

      // Add a click event on buttons to open a specific modal
      (document.querySelectorAll('.js-modal-trigger') || []).forEach(($trigger) => {
        const modal = $trigger.dataset.target;
        const $target = document.getElementById(modal);

        $trigger.addEventListener('click', () => {
          openModal($target);
        });
      });

      // Add a click event on various child elements to close the parent modal
      // (document.querySelectorAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button') || []).forEach(($close) => {
      //   const $target = $close.closest('.modal');

      //   $close.addEventListener('click', () => {
      //     closeModal($target);
      //   });
      // });

      // Add a keyboard event to close all modals
      document.addEventListener('keydown', (event) => {
        if (event.key === "Escape") {
          closeAllModals();
        }
      });
    });
  </script>
</head>

<body>
  {% include "header.njk" %}
  {% include "nav.njk" %}
  <!-- <div class="column is-12 has-text-centered has-text-white">
    <h1 class="title is-2">{{title}}</h1>
  </div> -->
  <main class="columns is-multiline box has-background-success is-centered">
    {{ content | safe }}
  </main>
  {% include "footer.njk" %}
</body>

</html>